<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Infinity Visualizer</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="wrap" id="triWrap"></div>
        <header class="hero">
            <div class="overlay">
                <h1>Fractals: Visualize Infinity</h1>
                <p>Discover the beauty of mathematics, patterns, and infinite complexity.</p>
            </div>
        </header>

        <div class="sections-container">
            <section class="section intro" onclick="location.href='intro.html'">
                <div class="box">
                    <h2>What are Fractals?</h2>
                </div>
            </section>

            <section class="section history" onclick="location.href='history.html'">
                <div class="box">
                    <h2>History & Origins</h2>
                </div>
            </section>

            <section class="section visualizer" onclick="location.href='visualizer.html'">
                <div class="box">
                    <h2>Explore the Visualizer</h2>
                </div>
            </section>
        </div>
        
        <script>
            const total = 200;
            const colors = [
                'oklch(74% 0.15 32)',   // primary
                'oklch(65% 0.13 210)',  // secondary
                'oklch(65% 0.05 210)',  // ui
                'oklch(80% 0.16 85)',   // yellow
                'oklch(60% 0.16 135)',  // green
                'oklch(65% 0.18 15)',   // red
                'oklch(54% 0.11 164)',  // green-2
                'oklch(62% 0.15 318)',  // purple
                'oklch(57% 0.2 15)'     // red-2
            ];
            
            const wrap = document.getElementById("triWrap");
            const triangles = [];
            let currentColorIndex = 0;

            // Create a style element for keyframes
            const style = document.createElement('style');
            document.head.appendChild(style);

            for (let i = 0; i < total; i++) {
                const size = Math.floor(Math.random() * 50) + 10;
                const rotate = Math.random() * 360;
                
                const tri = document.createElement("div");
                tri.className = "tri";
                tri.style.borderTop = `${size}px solid ${colors[0]}`;
                tri.style.borderRight = `${size}px solid transparent`;
                tri.style.borderLeft = `${size}px solid transparent`;
                tri.style.marginLeft = `-${size/2}px`;
                tri.style.marginTop = `-${size/2}px`;
                tri.style.transform = `rotate(${rotate}deg) translate3d(0,0,-1500px) scale(0)`;

                const animName = `anim${i}`;
                const keyframes = `
                    @keyframes ${animName} {
                        0% {
                            opacity: 1;
                            transform: rotate(${rotate * 1.5}deg) translate3d(${Math.random() * 1000}px, ${Math.random() * 1000}px, 1000px) scale(1);
                        }
                        100% {
                            opacity: 0;
                            transform: rotate(${rotate * 1.5}deg) translate3d(0, 0, -1500px) scale(0);
                        }
                    }
                `;
                
                style.appendChild(document.createTextNode(keyframes));
                
                tri.style.animation = `${animName} 10s infinite linear`;
                tri.style.animationDelay = `${i * -(10/total)}s`;

                triangles.push(tri);
                wrap.appendChild(tri);
            }

            // Color shifting function
            function updateColors() {
                const currentColor = colors[currentColorIndex];
                
                // Update all triangles
                triangles.forEach(tri => {
                    const borderWidth = tri.style.borderTopWidth;
                    tri.style.borderTop = `${borderWidth} solid ${currentColor}`;
                });
                
            }

            // Change colors every 3 seconds
            //setInterval(updateColors, 3000);
        </script>
    </body>
</html>